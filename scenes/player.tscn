[gd_scene load_steps=18 format=3 uid="uid://b2y70g21o03fv"]

[ext_resource type="Script" uid="uid://c2jjs6g7redkk" path="res://scenes/player/scripts/player.gd" id="1_3vyb7"]
[ext_resource type="Script" uid="uid://b2kepj2nh71px" path="res://scenes/player/scripts/fp_cam.gd" id="2_g2els"]
[ext_resource type="Script" uid="uid://bkexo62co5byf" path="res://scenes/player/scripts/player_interact.gd" id="3_dqkch"]
[ext_resource type="Material" uid="uid://cg6mgsd6r57ri" path="res://materials/black.tres" id="4_tuyoq"]
[ext_resource type="PackedScene" uid="uid://ce558j5bd7lc8" path="res://scenes/Interaction.tscn" id="5_fjrip"]
[ext_resource type="Script" uid="uid://6gcxb5lv6fae" path="res://scenes/player/scripts/hand.gd" id="5_qlg0r"]
[ext_resource type="PackedScene" uid="uid://unmnn6es8tap" path="res://scenes/thehand.tscn" id="5_tuyoq"]
[ext_resource type="AudioStream" uid="uid://dm1grs4cwcd61" path="res://sounds/steps.wav" id="8_smehm"]
[ext_resource type="AudioStream" uid="uid://cu1y3ql8nrphc" path="res://sounds/door.wav" id="9_ur7pv"]
[ext_resource type="AudioStream" uid="uid://dqgo1pmiplcas" path="res://sounds/invalid.wav" id="9_y4r1p"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_u8vuu"]
height = 3.5

[sub_resource type="CapsuleMesh" id="CapsuleMesh_3vyb7"]
height = 3.5

[sub_resource type="QuadMesh" id="QuadMesh_y4r1p"]

[sub_resource type="QuadMesh" id="QuadMesh_fjrip"]

[sub_resource type="Animation" id="Animation_fjrip"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("head/MeshInstance3D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.077402055, 0.5647136, -0.41180816)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("head/MeshInstance3D2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.0775311, -0.5477754, -0.41261378)]
}

[sub_resource type="Animation" id="Animation_tuyoq"]
resource_name = "blink"
length = 1.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("head/MeshInstance3D:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.077402055, 0.5647136, -0.41180816), Vector3(0.077402055, 0.1802336, -0.41180816), Vector3(0.077402055, 0.1802336, -0.41180816), Vector3(0.077402055, 0.5647136, -0.41180816)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("head/MeshInstance3D2:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.0775311, -0.5477754, -0.41261378), Vector3(0.0775311, -0.22565973, -0.41261378), Vector3(0.0775311, -0.22565973, -0.41261378), Vector3(0.0775311, -0.5477754, -0.41261378)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_smehm"]
_data = {
&"RESET": SubResource("Animation_fjrip"),
&"blink": SubResource("Animation_tuyoq")
}

[node name="player" type="CharacterBody3D"]
script = ExtResource("1_3vyb7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_u8vuu")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_3vyb7")

[node name="head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.623278, 0)
script = ExtResource("2_g2els")

[node name="camera" type="Camera3D" parent="head"]

[node name="RayCast3D" type="RayCast3D" parent="head"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
script = ExtResource("3_dqkch")

[node name="hide_screen" type="MeshInstance3D" parent="head"]
transform = Transform3D(1.5864999, 0, 0, 0, 0.97013664, 0, 0, 0, 0.8371617, 0.077, 1.305, -0.395)
material_override = ExtResource("4_tuyoq")
mesh = SubResource("QuadMesh_y4r1p")
skeleton = NodePath("../MeshInstance3D")

[node name="MeshInstance3D" type="MeshInstance3D" parent="head"]
transform = Transform3D(1.6025591, 0, 0, 0, 0.43023372, 0, 0, 0, 0.8371617, 0.077402055, 0.5647136, -0.41180816)
material_override = ExtResource("4_tuyoq")
mesh = SubResource("QuadMesh_fjrip")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="head"]
transform = Transform3D(1.6025591, 0, 0, 0, 0.43023372, 0, 0, 0, 0.8371617, 0.0775311, -0.5477754, -0.41261378)
material_override = ExtResource("4_tuyoq")
mesh = SubResource("QuadMesh_fjrip")

[node name="CanvasLayer" parent="head" instance=ExtResource("5_fjrip")]

[node name="thehand" parent="." instance=ExtResource("5_tuyoq")]
transform = Transform3D(-0.09978013, -2.313389e-05, -0.006627345, 0, 0.09999936, -0.00034906509, 0.0066273855, -0.00034829762, -0.09977952, 0.81842923, 0.34535563, -0.8490897)
script = ExtResource("5_qlg0r")

[node name="AnimationBlink" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_smehm")
}

[node name="footsteps" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("8_smehm")

[node name="invalid" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("9_y4r1p")
volume_db = -26.747
pitch_scale = 0.27

[node name="opendoor" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("9_ur7pv")

[editable path="thehand"]
